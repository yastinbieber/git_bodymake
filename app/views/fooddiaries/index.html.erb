<div class="container-fuild">
  <div class="d-flex">
    <div class="mr-auto p-2"><h2>Food Record</h2></div>
    <div class="p-2">
      <%= form_tag(fooddiaries_path, :method => "get") do %>
        <%= date_field_tag :search, id: "sbox" %> 
        <%= submit_tag "üîç" ,:created_at => nil, class: "btn btn-raised btn-primary" %> 
      <% end %>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats text-white bg-primary mb-3">
        <div class="card-header card-header-warning card-header-icon">
          <div class="card-icon">
            <i class="material-icons">food_bank</i>
          </div>
          <p class="card-category text-right">KcalÔºè„Ç´„É≠„É™„Éº</p>
          <h5 class="card-title text-right"><%= @fooddiary_sum_kcal %>Ôºè<%= current_user.idealweight.kcalintake %>
            <small class="card-text text-white">KCAL</small>
          </h5>
          <p class="card-text text-right">ÊÆã„ÇäÔºö<%= current_user.idealweight.kcalintake - @fooddiary_sum_kcal %>kcal</p>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats text-white bg-primary mb-3">
        <div class="card-header card-header-warning card-header-icon">
          <div class="card-icon">
            <i class="material-icons">android</i>
          </div>
          <p class="card-category text-right">ProteinÔºè„Çø„É≥„Éë„ÇØË≥™</p>
          <h5 class="card-title text-right"><%= @fooddiary_sum_protein %>Ôºè<%= current_user.idealweight.intakeproteingram %>
            <small class="card-text text-white">G</small>
          </h5>
          <p class="card-text text-right">ÊÆã„ÇäÔºö<%= current_user.idealweight.intakeproteingram - @fooddiary_sum_protein %>g</p>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats text-white bg-primary mb-3">
        <div class="card-header card-header-warning card-header-icon">
          <div class="card-icon">
            <i class="material-icons">local_pizza</i>
          </div>
          <p class="card-category text-right">FatÔºèËÑÇË≥™</p>
          <h5 class="card-title text-right"><%= @fooddiary_sum_fat %>Ôºè<%= current_user.idealweight.intakefatgram %>
            <small class="card-text text-white">G</small>
          </h5>
          <p class="card-text text-right">ÊÆã„ÇäÔºö<%= current_user.idealweight.intakefatgram - @fooddiary_sum_fat %>g</p>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-stats text-white bg-primary mb-3">
        <div class="card-header card-header-warning card-header-icon">
          <div class="card-icon">
            <i class="material-icons">rice_bowl</i>
          </div>
          <p class="card-category text-right">CarboÔºèÁÇ≠Ê∞¥ÂåñÁâ©</p>
          <h5 class="card-title text-right"><%= @fooddiary_sum_carbo %>Ôºè<%= current_user.idealweight.intakecarbogram %>
            <small class="card-text text-white">G</small>
          </h5>
          <p class="card-text text-right">ÊÆã„ÇäÔºö<%= current_user.idealweight.intakecarbogram - @fooddiary_sum_carbo %>g</p>
        </div>
      </div>
    </div>
  </div><br>
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <div class="card rounded-0 p-0 shadow-sm">
        <div class="form-group col-md-12"><br>
        <h5>FoodlistÔºèÈ£ü‰∫ã‰∏ÄË¶ß</h5>
        <hr>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>MorningÔºèÊúùÈ£ü</th>
                <th>foodname</th>
                <th>gram</th>
                <th>kcal</th>
                <th>protein</th>
                <th>fat</th>
                <th>carbo</th>
                <th></th>
              </tr>
            </thead>
            <%= render @fooddiary_morning %>
            <thead>
              <tr>
                <th>LunchÔºèÊòºÈ£ü</th>
                <th></th><th></th><th></th><th></th><th></th><th></th><th></th>
              </tr>
            </thead>  
            <%= render @fooddiary_lunch %>
            <thead>
              <tr>
                <th>DinnerÔºèÂ§ïÈ£ü</th>
                <th></th><th></th><th></th><th></th><th></th><th></th><th></th>
              </tr>
            </thead>
            <%= render @fooddiary_dinner %>
            <thead>
              <tr>
                <th>SnackÔºèÈñìÈ£ü</th>
                <th></th><th></th><th></th><th></th><th></th><th></th><th></th>
              </tr>
            </thead>
            <%= render @fooddiary_snack %>
          </table>
        </div>
      </div>
    </div>
  </div><br>
  <div class="row">
    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
      <div class="card rounded-0 p-0 shadow-sm">
        <div class="form-group col-md-12"><br>
          <h5>ImportantÔºèÊï∞ÂÄ§Ë¶ã„Åà„ÇãÂåñ</h5>
          <hr>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>TotalÔºèÂêàË®à</th>
              <th>kcal</th>
              <th>protein</th>
              <th>fat</th>
              <th>carbo</th>
            </tr>
          </thead>
          <tbody>
            <td></td>
            <td><%= @fooddiary_sum_kcal %>kcal</td>
            <td><%= @fooddiary_sum_protein %>g</td>
            <td><%= @fooddiary_sum_fat %>g</td>
            <td><%= @fooddiary_sum_carbo %>g</td>
          </tbody>
          <thead>
            <tr>
            <th>TargetÔºèÁõÆÊ®ô</th>  
            <th></th><th></th><th></th><th></th>
          </thead>
          <tbody>
            <td></td>
            <td><%= current_user.idealweight.kcalintake %>kcal</td>
            <td><%= current_user.idealweight.intakeproteingram %>g</td>
            <td><%= current_user.idealweight.intakefatgram %>g</td>
            <td><%= current_user.idealweight.intakecarbogram %>g</td>
          </tbody>
          <thead>
            <tr>
              <th>RemainingÔºèÊÆã„Çä</th>
              <th></th><th></th><th></th><th></th>
            </tr><br>
          </thead>
          <tbody>
            <td></td>
            <td><%= current_user.idealweight.kcalintake - @fooddiary_sum_kcal %>kcal</td>
            <td><%= current_user.idealweight.intakeproteingram - @fooddiary_sum_protein %>g</td>
            <td><%= current_user.idealweight.intakefatgram - @fooddiary_sum_fat %>g</td>
            <td><%= current_user.idealweight.intakecarbogram - @fooddiary_sum_carbo %>g</td>
          </tbody>
        </table>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
      <div class="card rounded-0 p-0 shadow-sm text-black text-center">
        <img class="card-img" src="https://cdn.asagei.com/syokuraku/uploads/2019/07/20190711-kinnikumesi01.jpg" alt="Card image cap" style="height: 25rem;">
        <div class="card-img-overlay"><br><br><br><br>
          <h5 class="card-title">È£ü‰∫ã„ÇíËøΩÂä†„Åô„Çã</h5>
          <p class="card-text">Êú¨Êó•„ÇÇ‰∏ÅÂØß„Å´Ë®òÈå≤„Åó„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>
          <%= link_to "È£ü‰∫ã„ÇíËøΩÂä†„Åô„Çã", "/fooddiaries/new", class:"btn btn-primary" %>
        </div>
      </div>
    </div>
  </div><br>
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
      <div class="card rounded-0 p-0 shadow-sm">
        <div class="form-group col-md-12"><br>
          <h5>ProgressÔºèÈÄ≤Êçó</h5>
          <hr><br>
          <th>KcalÔºè„Ç´„É≠„É™„Éº</th>
          <div class="pull-right"><%= @fooddiary_sum_kcal %>kcalÔºè<%= current_user.idealweight.kcalintake %>kcal</div>
          <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: <%= @fooddiary_sum_kcal*100 / current_user.idealweight.kcalintake %>%;" aria-valuemin="0" aria-valuemax="100">
            </div>
          </div>
          <th>ProteinÔºè„Çø„É≥„Éë„ÇØË≥™</th>
          <div class="pull-right"><%= @fooddiary_sum_protein %>gÔºè<%= current_user.idealweight.intakeproteingram %>g</div>
          <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: <%= @fooddiary_sum_protein*100 / current_user.idealweight.intakeproteingram %>%;" aria-valuemin="0" aria-valuemax="100">
            </div>
          </div>
          <th>FatÔºèËÑÇË≥™</th>
          <div class="pull-right"><%= @fooddiary_sum_fat %>gÔºè<%= current_user.idealweight.intakefatgram %>g</div>
          <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: <%= @fooddiary_sum_fat*100 / current_user.idealweight.intakefatgram %>%;" aria-valuemin="0" aria-valuemax="100">
            </div>
          </div>
          <th>CarboÔºèÁÇ≠Ê∞¥ÂåñÁâ©</th>
          <div class="pull-right"><%= @fooddiary_sum_carbo %>gÔºè<%= current_user.idealweight.intakecarbogram %>g</div>
          <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: <%= @fooddiary_sum_carbo*100 / current_user.idealweight.intakecarbogram %>%;" aria-valuemin="0" aria-valuemax="100">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
      <div class="card rounded-0 p-0 shadow-sm">
        <div class="form-group col-md-12"><br>
          <h5>Target PFCÔºèÁõÆÊ®ôPFC„Éê„É©„É≥„Çπ</h5>
          <hr>
            <canvas id="myPieChart"></canvas>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
            <script>
            var ctx = document.getElementById("myPieChart");
            var myPieChart = new Chart(ctx, {
              type: 'pie',
              data: {
                labels: ["Protein", "Fat", "Carbo"],
                datasets: [{
                    backgroundColor: [
                        "#BB5179",
                        "#FAFF67",
                        "#3C00FF"
                    ],
                    data: [<%= current_user.idealweight.intakeproteingram %>, 
                    <%= current_user.idealweight.intakefatgram %>,
                    <%= current_user.idealweight.intakecarbogram %>]
                }]
              },
              options: {
                title: {
                  // display: true,
                  // text: 'Ë°ÄÊ∂≤Âûã Ââ≤Âêà'
                }
              }
            });
            </script>
        </div>
      </div>
    </div>
  </div><br>
  
  